(()=>{"use strict";var e,t,r,n,o={284(e,t,r){var n=r(848),o=r(540),i=r(338);let a=(0,r(864).io)("https://nest-chat-server-d01j.onrender.com",{transports:["websocket"]});function d(){let[e,t]=(0,o.useState)(""),[r,i]=(0,o.useState)(""),[d,s]=(0,o.useState)(!1),[c,u]=(0,o.useState)(""),[f,p]=(0,o.useState)([]);(0,o.useEffect)(()=>(a.on("chatHistory",e=>{p(e)}),a.on("newMessage",e=>{p(t=>[...t,e])}),()=>{a.off("chatHistory"),a.off("newMessage")}),[]);let h=()=>{c.trim()&&(a.emit("createChat",{senderEmail:e,receiverEmail:r,message:c}),u(""))};return(0,n.jsx)("div",{style:l.container,children:d?(0,n.jsxs)("div",{style:l.chatBox,children:[(0,n.jsxs)("div",{style:l.header,children:["Chat with ",(0,n.jsx)("strong",{children:r})]}),(0,n.jsx)("div",{style:l.messages,children:f.map((t,r)=>(0,n.jsxs)("div",{style:{...l.message,alignSelf:t.senderEmail===e?"flex-end":"flex-start",background:t.senderEmail===e?"white":"black",color:t.senderEmail===e?"black":"white"},children:[(0,n.jsx)("div",{style:l.sender,children:t.senderEmail}),(0,n.jsx)("div",{children:t.message})]},r))}),(0,n.jsxs)("div",{style:l.inputRow,children:[(0,n.jsx)("input",{style:l.textInput,placeholder:"Type a message",value:c,onChange:e=>u(e.target.value),onKeyDown:e=>"Enter"===e.key&&h()}),(0,n.jsx)("button",{style:l.sendButton,onClick:h,children:"Send"})]})]}):(0,n.jsxs)("div",{style:l.card,children:[(0,n.jsx)("h2",{children:"Private Chat"}),(0,n.jsx)("input",{style:l.input,placeholder:"Your email",value:e,onChange:e=>t(e.target.value)}),(0,n.jsx)("input",{style:l.input,placeholder:"Other person's email",value:r,onChange:e=>i(e.target.value)}),(0,n.jsx)("button",{style:l.button,onClick:()=>{e&&r&&(a.emit("joinPrivateChat",{senderEmail:e,receiverEmail:r}),s(!0))},children:"Start Chat"})]})})}let l={container:{minHeight:"100vh",display:"flex",justifyContent:"center",alignItems:"center",background:"#f4f6f8"},card:{width:350,padding:24,borderRadius:8,background:"#fff",boxShadow:"0 4px 10px rgba(0,0,0,0.1)",display:"flex",flexDirection:"column",gap:12},input:{padding:10,fontSize:14},button:{padding:10,background:"#1976d2",color:"#fff",border:"none",cursor:"pointer"},chatBox:{width:400,height:550,display:"flex",flexDirection:"column",background:"#e5ddd5",borderRadius:8,overflow:"hidden"},header:{padding:12,background:"#075e54",color:"#fff"},messages:{flex:1,padding:12,display:"flex",flexDirection:"column",gap:8,overflowY:"auto"},message:{maxWidth:"75%",padding:10,borderRadius:6,boxShadow:"0 1px 2px rgba(0,0,0,0.15)"},sender:{fontSize:10,opacity:.6,marginBottom:4},inputRow:{display:"flex",padding:8,background:"#f0f0f0"},textInput:{flex:1,padding:10},sendButton:{padding:"0 16px",background:"#128c7e",color:"#fff",border:"none",cursor:"pointer"}};i.createRoot(document.getElementById("root")).render((0,n.jsx)(o.StrictMode,{children:(0,n.jsx)(()=>(0,n.jsx)(d,{}),{})}))}},i={};function a(e){var t=i[e];if(void 0!==t)return t.exports;var r=i[e]={exports:{}};return o[e](r,r.exports,a),r.exports}a.m=o,a.d=(e,t)=>{for(var r in t)a.o(t,r)&&!a.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),a.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},e=[],a.O=(t,r,n,o)=>{if(r){o=o||0;for(var i=e.length;i>0&&e[i-1][2]>o;i--)e[i]=e[i-1];e[i]=[r,n,o];return}for(var d=1/0,i=0;i<e.length;i++){for(var[r,n,o]=e[i],l=!0,s=0;s<r.length;s++)(!1&o||d>=o)&&Object.keys(a.O).every(e=>a.O[e](r[s]))?r.splice(s--,1):(l=!1,o<d&&(d=o));if(l){e.splice(i--,1);var c=n();void 0!==c&&(t=c)}}return t},t={410:0},a.O.j=e=>0===t[e],r=(e,r)=>{var n,o,[i,d,l]=r,s=0;if(i.some(e=>0!==t[e])){for(n in d)a.o(d,n)&&(a.m[n]=d[n]);if(l)var c=l(a)}for(e&&e(r);s<i.length;s++)o=i[s],a.o(t,o)&&t[o]&&t[o][0](),t[o]=0;return a.O(c)},(n=self.webpackChunkclient=self.webpackChunkclient||[]).forEach(r.bind(null,0)),n.push=r.bind(null,n.push.bind(n));var d=a.O(void 0,["783","993"],()=>a(284));d=a.O(d)})();